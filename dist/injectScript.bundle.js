(()=>{"use strict";async function e(e){return new Promise((t=>setTimeout(t,e)))}function t(e,t,n,o){e.dispatchEvent(new MouseEvent(t,{view:window,bubbles:!0,cancelable:!0,clientX:n,clientY:o,button:0}))}async function n(e){const n=e.getBoundingClientRect(),o=n.left+(n.right-n.left)/2,s=n.top+(n.bottom-n.top)/2;t(e,"mousedown",o,s),t(e,"mouseup",o,s),t(e,"click",o,s)}let o=!0;async function s(t){let s=Array.from(document.querySelectorAll("button")).find((e=>{const n=e.querySelector("span");return n&&n.textContent.trim()===t}));if(s){const t=document.querySelector("#ia-container > div > div.css-12qwcfa.eu4oa1w0 > div > div > div.css-w93e9b.e37uo190 > div.css-6e23tm.eu4oa1w0 > div > div > main > div.ia-BasePage-component.ia-BasePage-component--withContinue");if(t){let o=0,s=t.querySelector(`#q_${o}`);for(;s;){const l=s.querySelector(".css-12axhzd.e1wnkr790")?.textContent.trim(),u=s.querySelector("textarea");if(u){const t=u.value.trim();if(t)console.log("Answer is there for text box"),chrome.runtime.sendMessage({type:"storeAnswer",question:l,answer:t,answerType:"textarea"});else{const t=await i();u.value=t;const n=new Event("input",{bubbles:!0});u.dispatchEvent(n),await e(500),chrome.runtime.sendMessage({type:"storeAnswer",question:l,answer:t,answerType:"textarea"})}}const w=s.querySelector('input[type="text"]');if(w){const t=w.value.trim();if(t)console.log("Answer is there for text box"),chrome.runtime.sendMessage({type:"storeAnswer",question:l,answer:t,answerType:"textarea"});else{const t=await i();w.value=t;const n=new Event("input",{bubbles:!0});w.dispatchEvent(n),await e(500),chrome.runtime.sendMessage({type:"storeAnswer",question:l,answer:t,answerType:"textarea"})}}const m=s.querySelector("select");if(m){const t=Array.from(m.options).map((e=>e.textContent.trim())),n=m.value;if(n)console.log("Answer is there for dropdown"),chrome.runtime.sendMessage({type:"storeAnswer",question:l,answer:n,answerType:"dropdown",options:t});else{const n=await a(null,t);m.value=n;const o=new Event("change",{bubbles:!0});m.dispatchEvent(o),await e(500),chrome.runtime.sendMessage({type:"storeAnswer",question:l,answer:n,answerType:"dropdown",options:t})}}const d=s.querySelectorAll('input[type="radio"]');if(d.length>0){const t=Array.from(d).map((e=>e.nextElementSibling.textContent.trim())),o=Array.from(d).find((e=>e.checked))?.nextElementSibling.textContent.trim();if(o)console.log("Answer is there for radio"),chrome.runtime.sendMessage({type:"storeAnswer",question:l,answer:o,answerType:"radio",options:t});else{const o=await c(null,t);console.log(o);const s=Array.from(d).find((e=>e.nextElementSibling.textContent.trim()===o));s&&(console.log("Attempting to click radio button"),await n(s),await e(500)),chrome.runtime.sendMessage({type:"storeAnswer",question:l,answer:o,answerType:"radio",options:t})}}const p=s.querySelector('input[type="number"]');if(p){const t=p.value.trim();if(t)console.log("Answer is there for numerical box"),chrome.runtime.sendMessage({type:"storeAnswer",question:l,answer:t,answerType:"number"});else{let t=await r();t=parseInt(t),p.value=t;const n=new Event("input",{bubbles:!0});p.dispatchEvent(n),await e(500),chrome.runtime.sendMessage({type:"storeAnswer",question:l,answer:t,answerType:"number"})}}o++,s=t.querySelector(`#q_${o}`)}}else console.log("Questions container not found.");await n(s)}else o=!1}async function i(e,t){return"I'm a bot designed by Vikram, I couldn't figure out the answer to this question."}async function r(e,t){return 2}function a(e,t){return e||(["Canada","Asian","Decline to answer","Asian (not Hispanic or Latino)","Canada(+1)"].find((e=>t.includes(e)))||"")}function c(e,t){return e||(["Yes","Male","Yes, I can make the commute","No, I don't have a disability","Decline to answer","Email me","Hybrid"].find((e=>t.includes(e)))||"")}!async function(){await e(1500),console.log("injectScript INJECTED");const t=document.querySelector('[data-testid="FileResumeCard-label"]');if(t)t.click(),console.log("Clicked on the resume file label:",t);else{console.log("Resume file label not found.");const e=document.querySelector('[data-testid="FileResumeCard-input"]');e?(e.click(),console.log("Clicked on the resume file input:",e)):console.log("Resume file input not found.")}let n=0;for(;o&&n<4;)await s("Continue"),await e(1500),n+=1;await s("Submit your application"),await e(1500),chrome.runtime.sendMessage({type:"applied"})}()})();